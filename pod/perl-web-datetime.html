<!DOCTYPE html><html lang="en"><head><meta charset="utf-8">
      <link rel="stylesheet" href="../css/pod.css">
      <meta name="viewport" content="width=device-width">

      <title>perl-web-datetime</title><link rel="license" href="#LICENSE"></head><body><h1><a href="." rel="top">The manakai project</a></h1>
  <nav class="breadcrumb">
      <ul>
        <li><a href="../docs" rel="up up">Documents</a></li>
        <li><a href="../pod/#modules" rel="up">Perl modules</a></li>
        <li><a href="" rel="bookmark">perl-web-datetime</a></li>
      </ul>
    <ul class="pod-source"><li><a href="https://github.com/manakai/perl-web-datetime/tree/master/README.pod">Source</a></li></ul></nav><article>





<hgroup><h1><code>Web::DateTime</code></h1><h2>Date and time for Web</h2></hgroup><section id="SYNOPSIS"><h1>SYNOPSIS</h1>

<pre>
<code>  use Web::DateTime::Parser;
  $parser = Web::DateTime::Parser-&gt;new;
  $dt = $parser-&gt;parse_global_date_and_time_string ($value);
  warn $dt-&gt;to_unix_integer;</code></pre>

</section><section id="DESCRIPTION"><h1>DESCRIPTION</h1>

<p>The <code>Web::DateTime</code> class represents a date and/or time with accessor and serializer methods for Web. To create an instance of the <code>Web::DateTime</code> class, use <a href="../pod/Web/DateTime/Parser" class="podlinkpod">Web::DateTime::Parser</a> module.</p>

</section><section id="METHODS"><h1>METHODS</h1>

<p>Following methods are available:</p>

<dl>
<dt id="$string_=_$dt->to_date_string"><code>$string = $dt-&gt;<strong id="member-to_date_string">to_date_string</strong></code></dt>

<dd>
<p>Serialize the date value represented by the object as an HTML valid date string [HTML]. Note that time and time zone are ignored.</p>

<p>This method is suitable for values for HTML <code>&lt;input type=date&gt;</code>, <code>time</code> elements, and <code>&lt;ins datetime=""&gt;</code> and <code>&lt;del datetime=""&gt;</code> attributes.</p>

</dd><dt id="$string_=_$dt->to_date_string_with_optional_time"><code>$string = $dt-&gt;<strong id="member-to_date_string_with_optional_time">to_date_string_with_optional_time</strong></code></dt>

<dd>
<p>Serialize the date value represented by the object as HTML valid date string with optional time [HTML]. If the object represents a date, time, and time zone, it is serialized as a global date and time string. Otherwise, it is serialized as a date string.</p>

<p>This method is suitable for values for HTML <code>&lt;ins datetime=""&gt;</code> and <code>&lt;del datetime=""&gt;</code> attributes.</p>

</dd><dt id="$string_=_$dt->to_global_date_and_time_string"><code>$string = $dt-&gt;<strong id="member-to_global_date_and_time_string">to_global_date_and_time_string</strong></code></dt>

<dd>
<p>Serialize the date value represented by the object as an HTML valid global date and time string [HTML].</p>

<p>The serialized value always uses the UTC time zone. The time zone of the object is ignored (it does affect the value but the time zone itself does not appear in the serialization). If the object is not associated with any time zone, it is interpreted as UTC timestamp (which could be wrong, however).</p>

<p>Use <code>to_time_zoned_global_date_and_time_string</code> method to preserve time zone.</p>

<p>The value might not be a normalized date and time string. It is, in most cases, also a valid XML Schema <code>xs:dateTime</code> and <code>xs:dateTimeStamp</code> value and a valid RFC 3339 <code>date-time</code> value.</p>

<p>This method is suitable for values for HTML <code>&lt;input type=datetime&gt;</code>, <code>time</code> elements, and <code>&lt;ins datetime=""&gt;</code> and <code>&lt;del datetime=""&gt;</code> attributes.</p>

</dd><dt id="$string_=_$dt->to_local_date_and_time_string"><code>$string = $dt-&gt;<strong id="member-to_local_date_and_time_string">to_local_date_and_time_string</strong></code></dt>

<dd>
<p>Serialize the date value represented by the object as an HTML valid local date and time string [HTML]. Note that time zone is ignored.</p>

<p>The value might not be a normalized local date and time string. It is, in most cases, also a valid XML Schema <code>xs:dateTime</code> value.</p>

<p>This method is suitable for values for HTML <code>&lt;input type=datetime-local&gt;</code> and <code>time</code> elements.</p>

</dd><dt id="$string_=_$dt->to_month_string"><code>$string = $dt-&gt;<strong id="member-to_month_string">to_month_string</strong></code></dt>

<dd>
<p>Serialize the month value represented by the object as an HTML valid month string [HTML]. Note that day, time, and time zone are ignored.</p>

<p>This method is suitable for values for HTML <code>&lt;input type=month&gt;</code> and <code>time</code> elements.</p>

</dd><dt id="$string_=_$dt->to_time_string"><code>$string = $dt-&gt;<strong id="member-to_time_string">to_time_string</strong></code></dt>

<dd>
<p>Serialize the time value represented by the object as an HTML valid time string [HTML]. Note that date and time zone are ignored.</p>

<p>This method is suitable for values for HTML <code>&lt;input type=time&gt;</code> and <code>time</code> elements.</p>

</dd><dt id="$string_=_$dt->to_time_zoned_global_date_and_time_string"><code>$string = $dt-&gt;<strong id="member-to_time_zoned_global_date_and_time_string">to_time_zoned_global_date_and_time_string</strong></code></dt>

<dd>
<p>Serialize the date value represented by the object as an HTML valid global date and time string [HTML].</p>

<p>If a time zone is associated with the object, it is used to serialize the time value. If the object is not associated with any time zone, it is interpreted as UTC timestamp (which could be wrong, however).</p>

<p>Use <code>to_date_and_time_string</code> method to always obtain a UTC timestamp.</p>

<p>This method is suitable for values for HTML <code>&lt;input type=datetime&gt;</code>, <code>time</code> elements, and <code>&lt;ins datetime=""&gt;</code> and <code>&lt;del datetime=""&gt;</code> attributes.</p>

</dd><dt id="$string_=_$dt->to_week_string"><code>$string = $dt-&gt;<strong id="member-to_week_string">to_week_string</strong></code></dt>

<dd>
<p>Serialize the week value represented by the object as an HTML valid week string [HTML]. Note that month, day, time, and time zone are ignored.</p>

<p>This method is suitable for values for HTML <code>&lt;input type=week&gt;</code> and <code>time</code> elements.</p>

</dd><dt id="$datetime_=_$dt->to_datetime"><code>$datetime = $dt-&gt;<strong id="member-to_datetime">to_datetime</strong></code></dt>

<dd>
<p>Return a new <a href="http://search.cpan.org/dist/DateTime/lib/DateTime.pm" class="podlinkpod">DateTime</a> object which represents the time represented by the object. If the object has associated time zone, the returned object is in the equivalent time zone. Otherwise, the returned object is in the <code>floating</code> time zone. Note that Web date and time formats do not support leap seconds while <a href="http://search.cpan.org/dist/DateTime/lib/DateTime.pm" class="podlinkpod">DateTime</a> does support them such that operations on Web date and time values and <a href="http://search.cpan.org/dist/DateTime/lib/DateTime.pm" class="podlinkpod">DateTime</a> objects might obtain different results.</p>

<p>This method requires the <a href="http://search.cpan.org/dist/DateTime/lib/DateTime.pm" class="podlinkpod">DateTime</a> module.</p>

</dd><dt id="$number_=_$dt->to_unix_integer"><code>$number = $dt-&gt;<strong id="member-to_unix_integer">to_unix_integer</strong></code></dt>

<dd>
<p>Return a Unix time value (<code>time_t</code> integer) [POSIX.1] of the time represented by the object. The value can be positive or negative, and might not be a 32-bit integer. Any fraction part of seconds is discarded. Note that the Unix <code>time_t</code> value represents the time without associated time zone information. If the object has no associated time zone, it is considered as a UTC timestamp for the purpose of conversion.</p>

</dd><dt id="$number_=_$dt->to_html_number"><code>$number = $dt-&gt;<strong id="member-to_html_number">to_html_number</strong></code></dt>

<dd>
<p>Return the number of the date and time represented by the object, as used for, e.g., <code>&lt;input type=datetime&gt;</code> (i.e. number of milliseconds from the beginning of January 1, 1970 UTC) [HTML]. Note that the number might not be an integer.</p>

</dd><dt id="$number_=_$dt->to_html_month_number"><code>$number = $dt-&gt;<strong id="member-to_html_month_number">to_html_month_number</strong></code></dt>

<dd>
<p>Return the number (an integer) of the month represented by the object, as used for <code>&lt;input type=month&gt;</code> (i.e. number of months from January 1970) [HTML].</p>

</dd><dt id="$number_=_$dt->year"><code>$number = $dt-&gt;<strong id="member-year">year</strong></code></dt>

<dt id="$number_=_$dt->month"><code>$number = $dt-&gt;<strong id="member-month">month</strong></code></dt>

<dt id="$number_=_$dt->day"><code>$number = $dt-&gt;<strong id="member-day">day</strong></code></dt>

<dt id="$number_=_$dt->hour"><code>$number = $dt-&gt;<strong id="member-hour">hour</strong></code></dt>

<dt id="$number_=_$dt->minute"><code>$number = $dt-&gt;<strong id="member-minute">minute</strong></code></dt>

<dt id="$number_=_$dt->second"><code>$number = $dt-&gt;<strong id="member-second">second</strong></code></dt>

<dd>
<p>Return the number in the year, month, day, hour, minute, or second component of the object, respectively. If a time zone is associated with the object, the return value is in that time zone.</p>

</dd><dt id="$string_=_$dt->second_fraction_string"><code>$string = $dt-&gt;<strong id="member-second_fraction_string">second_fraction_string</strong></code></dt>

<dd>
<p>Return the fraction part of the second component of the time represented by the object, including leading <code>.</code> character (decimal separator). If the fraction part is zero (the second component is an integer), the empty string is returned.</p>

</dd><dt id="$number_=_$dt->utc_year"><code>$number = $dt-&gt;<strong id="member-utc_year">utc_year</strong></code></dt>

<dt id="$number_=_$dt->utc_month"><code>$number = $dt-&gt;<strong id="member-utc_month">utc_month</strong></code></dt>

<dt id="$number_=_$dt->utc_day"><code>$number = $dt-&gt;<strong id="member-utc_day">utc_day</strong></code></dt>

<dt id="$number_=_$dt->utc_hour"><code>$number = $dt-&gt;<strong id="member-utc_hour">utc_hour</strong></code></dt>

<dt id="$number_=_$dt->utc_minute"><code>$number = $dt-&gt;<strong id="member-utc_minute">utc_minute</strong></code></dt>

<dt id="$number_=_$dt->utc_second"><code>$number = $dt-&gt;<strong id="member-utc_second">utc_second</strong></code></dt>

<dd>
<p>Return the number in the year, month, day, hour, minute, or second component of the object, respectively. If a time zone is associated with the object, the return value is converted into UTC. Otherwise, no convertion is performed.</p>

</dd><dt id="$number_=_$dt->day_of_week"><code>$number = $dt-&gt;<strong id="member-day_of_week">day_of_week</strong></code></dt>

<dd>
<p>Return the day of week represented by the object, as a number. Sunday, Monday, ..., and Saturday are represented as <code>0</code>, <code>1</code>, ..., and <code>6</code>, respectively.</p>

</dd><dt id="$number_=_$dt->utc_day_of_week"><code>$number = $dt-&gt;<strong id="member-utc_day_of_week">utc_day_of_week</strong></code></dt>

<dd>
<p>Return the day of week of the UTC date represented by the object, as a number. Sunday, Monday, ..., and Saturday are represented as <code>0</code>, <code>1</code>, ..., and <code>6</code>, respectively.</p>

</dd><dt id="$number_=_$dt->fractional_second"><code>$number = $dt-&gt;<strong id="member-fractional_second">fractional_second</strong></code></dt>

<dd>
<p>Return the second component, including fractional part if any, as a number.</p>

</dd><dt id="$number_=_$dt->utc_fractional_second"><code>$number = $dt-&gt;<strong id="member-utc_fractional_second">utc_fractional_second</strong></code></dt>

<dd>
<p>Return the second component of the UTC time represented by the object, including fractional part if any, as a number.</p>

</dd><dt id="$number_=_$dt->utc_week"><code>$number = $dt-&gt;<strong id="member-utc_week">utc_week</strong></code></dt>

<dd>
<p>Return the week number of the UTC date and time represented by the object.</p>

</dd><dt id="$number_=_$dt->utc_week_year"><code>$number = $dt-&gt;<strong id="member-utc_week_year">utc_week_year</strong></code></dt>

<dd>
<p>Return the week-year number of the UTC date and time represented by the object.</p>

</dd><dt id="$tz_=_$dt->time_zone"><code>$tz = $dt-&gt;<strong id="member-time_zone">time_zone</strong></code></dt>

<dd>
<p>Return the associated <a href="../pod/Web/DateTime/TimeZone" class="podlinkpod">Web::DateTime::TimeZone</a> object, if any, or <code>undef</code>.</p>
</dd>
</dl>

</section><section id="DEPENDENCY"><h1>DEPENDENCY</h1>

<p>The module requires Perl 5.8 or later and the <a href="http://search.cpan.org/dist/Time-Local/lib/Time/Local.pm" class="podlinkpod">Time::Local</a> module (which is a core module).</p>

<p>The <code>to_datetime</code> method requires more module.</p>

</section><section id="SPECIFICATIONS"><h1>SPECIFICATIONS</h1>

<dl>
<dt id="HTML">HTML</dt>

<dd>
<p>HTML Standard <code class="url">&lt;<a href="http://www.whatwg.org/specs/web-apps/current-work/">http://www.whatwg.org/specs/web-apps/current-work/</a>&gt;</code>.</p>

</dd><dt id="POSIX.1">POSIX.1</dt>

<dd>
<p>POSIX.1-2008 <code class="url">&lt;<a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap04.html#tag_04_15">http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap04.html#tag_04_15</a>&gt;</code>.</p>
</dd>
</dl>

</section><section id="AUTHOR"><h1>AUTHOR</h1>

<p>Wakaba &lt;wakaba@suikawiki.org&gt;.</p>

</section><section id="LICENSE"><h1>LICENSE</h1>

<p>Copyright 2008-2014 Wakaba &lt;wakaba@suikawiki.org&gt;.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>




</section></article><footer>
  <p>The manakai project since 2002
  </p><ul>
    <li><a href="." rel="top">Top</a>
    </li><li><a href="contact">Contact</a>
  </li></ul>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-39820773-4', 'manakai.github.io');
ga('send', 'pageview');
</script>
  </footer></body></html>