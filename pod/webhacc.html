<!DOCTYPE html><html lang="en"><head><meta charset="utf-8">
      <link rel="stylesheet" href="../css/pod.css">
      <meta name="viewport" content="width=device-width">

      <title>webhacc</title><link rel="license" href="#LICENSE"></head><body><h1><a href="." rel="top">The manakai project</a></h1>
  <nav class="breadcrumb">
      <ul>
        <li><a href="../docs" rel="up up up">Documents</a></li>
        <li><a href="../pod/#modules" rel="up up">Perl modules</a></li>
        <li><a href="../pod/webhacc-cli" rel="up">webhacc-cli</a></li>
        <li><a href="" rel="bookmark">webhacc</a></li>
      </ul>
    <ul class="pod-source"><li><a href="https://github.com/manakai/webhacc-cli/tree/master/bin/webhacc.pl">Source</a></li></ul></nav><article>





<hgroup><h1><code>webhacc</code></h1><h2>Web page conformance checker (validator)</h2></hgroup><section id="SYNOPSIS"><h1>SYNOPSIS</h1>

<pre>
<code>  webhacc [OPTIONS] http://www.example.com/
  webhacc --help
  webhacc --version</code></pre>

</section><section id="DESCRIPTION"><h1>DESCRIPTION</h1>

<p>The <code>webhacc</code> command is a command-line interface to the WebHACC, a Web page conformance checker (i.e. a validator).</p>

</section><section id="ARGUMENTS"><h1>ARGUMENTS</h1>

<p>If a non-option argument is specified, it is interpreted as a URL or file name to validate. As a special case, the argument <code>-</code> is interpreted as the file "standard input". If no non-option argument is specified, data from the standard input is validated.</p>

<p>Unless <code>--help</code> or <code>--version</code> option is specified, the command validates the specified input and return the result. Result is written to the standard output, while additional information might be available via the standard error output.</p>

<p>Following options are available:</p>

<dl>
<dt id="--check-error-response">--check-error-response</dt>

<dd>
<p>If this option is specified, run the validator even when the response is in error (in network error or has status code other than 200-299) or is redirect (has status code 300-399). Otherwise, validation is not performed when the response is in error.</p>

</dd><dt id="--cron-user=user-name">--cron-user=user-name</dt>

<dd>
<p>If this option is specified, the value is used as the Unix user name in the cron lines generated by the <code>--generate-cron-lines</code> option (suitable for <code>/etc/crontab</code> or <code>/etc/cron.d</code>). Unless this option is specified, user name is omitted (suitable for <code>crontab -e</code> command).</p>

</dd><dt id="--generate-cron-lines">--generate-cron-lines</dt>

<dd>
<p>Generate crontab lines that should be added to schedule updating of the WebHACC script and exit without validation.</p>

</dd><dt id="--help">--help</dt>

<dd>
<p>Show help message and exit without validation.</p>

</dd><dt id="--image-viewable">--image-viewable</dt>

<dd>
<p>Assumes that the validated document is not intended for public and the user is expected to be able to view images. This option affects conformance of the HTML <code>img</code> element.</p>

</dd><dt id="--json">--json</dt>

<dd>
<p>Encode the result in JSON.</p>

<p>XXX JSON structure is ...</p>

</dd><dt id="--noscript">--noscript</dt>

<dd>
<p>Disable scripting for the purpose of parsing and validation. By default scripting is enabled. Note that the validator supports no scripting language at the moment. This option affects conformance of <code>noscript</code> elements.</p>

</dd><dt id="--specs">--specs</dt>

<dd>
<p>Show list of supported standard specifications and exits without validation.</p>

</dd><dt id="--upgrade">--upgrade</dt>

<dd>
<p>Upgrade the webhacc software.</p>

</dd><dt id="--version">--version</dt>

<dd>
<p>Show short information on the command and exits without validation. This option can be combined with <code>--json</code>.</p>
</dd>
</dl>

</section><section id="ENVIRONMENT_VARIABLE"><h1>ENVIRONMENT VARIABLE</h1>

<p>The <code>LANG</code> environment variable is used to determine the natural language of the output. Note that any character encoding specified by <code>LANG</code> is ignored; the output character encoding is always UTF-8.</p>

</section><section id="EXIT_STATUS"><h1>EXIT STATUS</h1>

<p>When the validation result is positive, as well as when <code>--help</code> or <code>--version</code> is specified, the command exits with <code>0</code>. Otherwise the command exits with non <code>0</code> status.</p>

</section><section id="INSTALL"><h1>INSTALL</h1>

<section id="Install_by_one-line_installer"><h1>Install by one-line installer</h1>

<p>Run the following command:</p>

<pre>
<code>  $ curl http://wakaba.github.io/packages/webhacc | sh</code></pre>

<p>Wait a few minutes. WebHACC program files are installed into <code>./local/webhacc</code> and the <code>webhacc</code> runner command is copied as <code>./webhacc</code>.</p>

<p>Then, setup automatic upgrading (see subsection below).</p>

<p>The <code>WEBHACC_DIR</code> environment variable can be used to specify where WebHACC program files are installed:</p>

<pre>
<code>  $ curl http://wakaba.github.io/packages/webhacc | \
    WEBHACC_DIR=path/to/webhacc sh</code></pre>

<p>If your system's Perl is older than Perl 5.10, set the <code>PMBP_PERL_VERSION</code> environment variable:</p>

<pre>
<code>  $ curl http://wakaba.github.io/packages/webhacc | PMBP_PERL_VERSION=latest sh</code></pre>

<p>... such that newer version of Perl is installed for the WebHACC script (in <code>./local/webhacc/local/</code>). As this compiles perl, it takes several minutes.</p>

</section><section id="Install_step_by_step"><h1>Install step by step</h1>

<p>Install <code>make</code>, <code>gcc</code>, <code>perl</code>, <code>git</code>, and <code>wget</code>.</p>

<p>Clone the Git repository in your favorite directory and run the setup command:</p>

<pre>
<code>  $ git clone git://github.com/manakai/webhacc-cli path/to/webhacc-cli
  $ cd path/to/webhacc-cli
  $ make deps</code></pre>

<p>Then, invoke the <code>webhacc</code> command in the repository directory (by explicitly specifying the path to the file, by adding the directory to your <code>PATH</code> environment variable, by copying the file to your "bin" directory, or by your favorite way):</p>

<pre>
<code>  $ cp webhacc ~/bin
  $ cd somewhere
  $ webhacc http://example.com/</code></pre>

<p>Note that the <code>make deps</code> command does not modify any directory or file outside of the repositroy directory. You can uninstall the application entirely by simply deleting the repository directory.</p>

<p>Then, setup automatic upgrading (see subsection below).</p>

</section><section id="Automatic_upgrading"><h1>Automatic upgrading</h1>

<p>As Web standards are evolved on a daily basis, the WebHACC program is updated frequently, otherwise output of the program could be stale. Once installed, the program can be updated by invoking with the <code>--upgrade</code> option:</p>

<pre>
<code>  $ path/to/webhacc --upgrade</code></pre>

<p>This command should be invoked periodically so that the program is kept up-to-date. For example, schedule cron to run the command once a week. The line that should be added to your crontab file can be generated by the following command:</p>

<pre>
<code>  $ path/to/webhacc --generate-cron-lines</code></pre>

</section></section><section id="DEPENDENCY"><h1>DEPENDENCY</h1>

<p>This command requires Perl 5.10 or later.</p>

<p>In addition, it requires various modules for validation. They are Git submodules in the <code>modules</code> directory, or can be installed to the <code>local</code> directory in the repository by the <code>make deps</code> command as described in the following section.</p>

</section><section id="SPECIFICATIONS"><h1>SPECIFICATIONS</h1>

<p>The command supports various Web standard specifications. Run the command with the <code>--specs</code> option to view the list of supported specifications.</p>

</section><section id="AUTHOR"><h1>AUTHOR</h1>

<p>Wakaba &lt;wakaba@suikawiki.org&gt;.</p>

</section><section id="LICENSE"><h1>LICENSE</h1>

<p>Copyright 2007-2014 Wakaba &lt;wakaba@suikawiki.org&gt;.</p>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>




</section></article><footer>
  <p>The manakai project since 2002
  </p><ul>
    <li><a href="." rel="top">Top</a>
    </li><li><a href="contact">Contact</a>
  </li></ul>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-39820773-4', 'manakai.github.io');
ga('send', 'pageview');
</script>
  </footer></body></html>