<!DOCTYPE html><html lang="en"><head><meta charset="utf-8">
      <link rel="stylesheet" href="../css/pod.css">
      <meta name="viewport" content="width=device-width">

      <title>testdataparser</title><link rel="license" href="#LICENSE"></head><body><h1><a href=".." rel="top">The manakai project</a></h1>
  <nav class="breadcrumb">
      <ul>
        <li><a href="../docs" rel="up up">Documents</a></li>
        <li><a href="../pod/#modules" rel="up">Perl modules</a></li>
        <li><a href="" rel="bookmark">testdataparser</a></li>
      </ul>
    <ul class="pod-source"><li><a href="https://github.com/wakaba/testdataparser/tree/master/README.pod">Source</a></li></ul></nav><article>





<hgroup><h1><code>Test::HTCT::Parser</code></h1><h2>A parser for test data in HTML Tree Construction Tests format</h2></hgroup><section id="SYNOPSIS"><h1>SYNOPSIS</h1>

<pre><code>  use Test::HTCT::Parser;
  
  for_each_test $file_name, {
    data =&gt; {},
    errors =&gt; {is_list =&gt; 1},
    document =&gt; {is_prefixed =&gt; 1},
    'document-fragment' =&gt; {is_prefixed =&gt; 1},
  }, sub {
    my $test = shift;
    my ($serialized, $errors) = parse_data ($test-&gt;{data}-&gt;[0]);
    is $serialized, $test-&gt;{document}-&gt;[0];
    is_deeply $errors, $test-&gt;{errors}-&gt;[0];
  };</code></pre>

</section><section id="DESCRIPTION"><h1>DESCRIPTION</h1>

<p>The <code>Test::HTCT::Parser</code> module exports a function to parse test data file encoded in the format for HTML Parsers' Tree Construction Tests. It can also be used to parse test data for other purposes than HTML parsing.</p>

<p>For more information on the usage of the module, see <code>t/test-htct-parser.t</code> test script.</p>

</section><section id="TEST_CALLBACK"><h1>TEST CALLBACK</h1>

<p>The callback code is invoked for each test, in order in the input test data file. It is invoked with two arguments.</p>

<p>The first argument <code>$_[0]</code> represents the test data.</p>

<p>The second argument <code>$_[1]</code> has additional data. It is a hash reference with a key/value pair: <code>line_number</code> is the line number of the first line of the test data in the input test data file.</p>

</section><section id="SEE_ALSO"><h1>SEE ALSO</h1>

<p>WHATWG Wiki, Parser tests, Tree Constructoion Tests <code class="url">&lt;<a href="https://wiki.whatwg.org/wiki/Parser_tests#Tree_Construction_Tests">https://wiki.whatwg.org/wiki/Parser_tests#Tree_Construction_Tests</a>&gt;</code>.</p>

<p>HTML Parser Tree Constructions Tests (from html5lib repository) <code class="url">&lt;<a href="http://html5lib.googlecode.com/svn/trunk/testdata/tree-construction/">http://html5lib.googlecode.com/svn/trunk/testdata/tree-construction/</a>&gt;</code>.</p>

<p>sami-test.js, which is a JavaScript implementation of the format <code class="url">&lt;<a href="https://github.com/wakaba/samijs/blob/master/sami/script/sami-test.js">https://github.com/wakaba/samijs/blob/master/sami/script/sami-test.js</a>&gt;</code>.</p>

</section><section id="DISTRIBUTION"><h1>DISTRIBUTION</h1>

<p>The latest version of the module is available from the GitHub repository: <code class="url">&lt;<a href="https://github.com/wakaba/testdataparser">https://github.com/wakaba/testdataparser</a>&gt;</code>.</p>

</section><section id="DEPENDENCY"><h1>DEPENDENCY</h1>

<p>The module requires Perl 5.8 or later.</p>

</section><section id="AUTHOR"><h1>AUTHOR</h1>

<p>Wakaba &lt;wakaba@suikawiki.org&gt;.</p>

<p>The format was originally defined by WHATWG/html5lib contributors.</p>

</section><section id="HISTORY"><h1>HISTORY</h1>

<p>The parser was originally developed as part of <a href="https://metacpan.org/pod/Whatpm%3A%3AHTML" class="podlinkpod">Whatpm::HTML</a> HTML parser module, which is part of the manakai package <code class="url">&lt;<a href="https://suika.suikawiki.org/www/manakai-core/doc/web/">https://suika.suikawiki.org/www/manakai-core/doc/web/</a>&gt;</code>.</p>

<p>The first version, <code>1.0</code>, as a standalone module with new name <a href="https://metacpan.org/pod/Test%3A%3AHTCT%3A%3AParser" class="podlinkpod">Test::HTCT::Parser</a> is released on February 19, 2011.</p>

<p>The second version, <code>2.0</code>, added support for <code>multiple</code> fields.</p>

<p>This repository was located at <code class="url">&lt;<a href="https://github.com/wakaba/testdataparser">https://github.com/wakaba/testdataparser</a>&gt;</code> until it has been transferred to the manakai project on Nobember 4, 2021.</p>

</section><section id="LICENSE"><h1>LICENSE</h1>

<p>Copyright 2007-2021 Wakaba &lt;wakaba@suikawiki.org&gt;.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>




</section></article><sw-ads normal=""></sw-ads><footer>
    
    <script src="https://manakai.github.io/js/global.js" async=""></script>

    <p>The manakai project since 2002
    </p><ul>
      <li><a href=".." rel="top">Top</a>
      </li><li><a href="../contact">Contact</a>
    </li></ul>
    <sw-ads-notes></sw-ads-notes>
  </footer></body></html>